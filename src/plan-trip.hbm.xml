<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping>

    <!-- Models.Plan -->
    <class name="Models.Plan" table="plan">
        <meta attribute="class-description">
            This class contains the plan-trip detail.
        </meta>
        <id name="id" type="int" column="id">
            <generator class="native"/>
        </id>
        <property name="type" column="type" type="string"/>
        <property name="associationNumber" column="association_number" type="int"/>
        <property name="title" column="title" type="string"/>
        <property name="place" column="place" type="string"/>
        <property name="beginDate" column="begin_date" type="date"/>
        <property name="endDate" column="end_date" type="date"/>
        <property name="time" column="time" type="string"/>
        <property name="requestedItems" column="requested_items" type="string"/>
        <property name="supervisorAgreement" column="supervisor_agreement" type="string"/>
        <property name="advisorComment" column="advisor_comment" type="string"/>
        <property name="expertComment" column="expert_comment" type="string"/>
        <property name="bossComment" column="boss_comment" type="string"/>
        <property name="poster" column="poster" type="string"/>
        <property name="studentMoney" column="student_money" type="long"/>
        <property name="sponsorMoney" column="sponsor_money" type="long"/>
        <property name="guidelines" column="guidelines" type="string"/>
        <property name="sidePrograms" column="side_programs" type="string"/>
        <property name="resume" column="resume" type="string"/>
        <many-to-one name="workflowState" column="workflow_state_id" class="Models.WorkflowState"/>
        <set name="personnel" cascade="all">
            <key column="plan_id"/>
            <one-to-many class="Models.Personnel"/>
        </set>
        <set name="expenses" cascade="all">
            <key column="plan_id"/>
            <one-to-many class="Models.Expense"/>
        </set>
        <set name="enlisted" cascade="all">
            <key column="plan_id"/>
            <one-to-many class="Models.Enlisted"/>
        </set>
        <set name="guests" cascade="all">
            <key column="plan_id"/>
            <one-to-many class="Models.Guest"/>
        </set>
        <set name="judges" cascade="all">
            <key column="plan_id"/>
            <one-to-many class="Models.Judge"/>
        </set>
        <set name="planStateHistory" cascade="all">
            <key column="plan_id"/>
            <one-to-many class="Models.PlanStateHistory"/>
        </set>
    </class>
    <!-- /Models.Plan -->

    <!-- Models.Personnel -->
    <class name="Models.Personnel" table="PERSONNEL">
        <meta attribute="class-description">
            This class contains the personnel detail.
        </meta>
        <id name="id" type="int" column="id">
            <generator class="native"/>
        </id>
        <property name="fName" column="f_name" type="string"/>
        <property name="lName" column="l_name" type="string"/>
        <property name="phone" column="phone" type="string"/>
    </class>
    <!-- /Models.Personnel -->

    <!-- Models.Expense -->
    <class name="Models.Expense" table="EXPENSE">
        <meta attribute="class-description">
            This class contains the expenses detail.
        </meta>
        <id name="id" type="int" column="id">
            <generator class="native"/>
        </id>
        <property name="name" column="name" type="string"/>
        <property name="value" column="value" type="string"/>
        <property name="comment" column="comment" type="string"/>
    </class>
    <!-- /Models.Expense -->

    <!-- Models.Enlisted -->
    <class name="Models.Enlisted" table="ENLISTED">
        <meta attribute="class-description">
            This class contains the enlisted detail.
        </meta>
        <id name="id" type="int" column="id">
            <generator class="native"/>
        </id>
        <property name="fName" column="f_name" type="string"/>
        <property name="lName" column="l_name" type="string"/>
        <property name="studentID" column="student_id" type="string"/>
        <property name="email" column="email" type="string"/>
        <property name="phone" column="phone" type="string"/>
    </class>
    <!-- /Models.Enlisted -->

    <!-- Models.Guest-->
    <class name="Models.Guest" table="guest">
        <meta attribute="class-description">
            This class contains the guests detail.
        </meta>
        <id name="id" type="int" column="id">
            <generator class="native"/>
        </id>
        <property name="fName" column="f_name" type="string"/>
        <property name="lName" column="l_name" type="string"/>
    </class>
    <!-- /Models.Guest-->

    <!-- judges -->
    <class name="Models.Judge" table="judge">
        <meta attribute="class-description">
            This class contains the judges detail.
        </meta>
        <id name="id" type="int" column="id">
            <generator class="native"/>
        </id>
        <property name="fName" column="f_name" type="string"/>
        <property name="lName" column="l_name" type="string"/>
        <property name="fieldOfStudy" column="field_of_study" type="string"/>
        <property name="grade" column="grade" type="string"/>
    </class>
    <!-- /judges -->

    <!-- associations -->
<class name="Models.Association" table="association">
    <meta attribute="class-description">
        This class contains the detail of associations.
    </meta>
    <id name="id" column="id" type="int">
        <generator class="native"/>
    </id>
    <property name="number" column="number" type="int"/>
    <property name="name" column="name" type="string"/>
    <property name="logo" column="logo" type="string" />
    <set name="users" cascade="all">
        <key column="association_number" />
        <one-to-many class="Models.User"/>
    </set>
    <set name="plans" cascade="all">
        <key column="association_number"/>
        <one-to-many class="Models.Plan"/>
    </set>
</class>
    <!-- /associations -->

    <!-- users -->
    <class name="Models.User" table="user">
        <meta attribute="class-description">
            This class contains the detail of users.
        </meta>
        <id name="id" column="id" type="int">
            <generator class="native"/>
        </id>
        <property name="fName" column="f_name" type="string"/>
        <property name="lName" column="l_name" type="string"/>
        <property name="userName" column="user_name" type="string"/>
        <property name="password" column="password" type="string"/>
        <property name="associationNumber" column="association_number" type="int"/>
        <property name="positionTitle" column="position_title" type="string"/>
        <property name="birthYear" column="birth_year" type="string"/>
        <property name="email" column="email" type="string"/>
        <property name="nationalId" column="national_id" type="string"/>
        <property name="phone" column="phone" type="string"/>
        <property name="photo" column="photo" type="string"/>
        <property name="studentId" column="student_id" type="string"/>
    </class>
    <!-- /users -->

    <!-- workflow -->
    <class name="Models.Workflow" table="workflow">
        <meta attribute="class-description">
            This class contains the detail of workflows.
        </meta>
        <id name="id" column="id" type="int">
            <generator class="native"/>
        </id>
        <property name="name" column="name" type="string"/>
        <set name="workflowStates" cascade="all">
            <key column="workflow_id"/>
            <one-to-many class="Models.WorkflowState"/>
        </set>
    </class>
    <!-- /workflow -->

    <!-- workflowStates -->
    <class name="Models.WorkflowState" table="workflow_state">
        <meta attribute="class-description">
            This class contains the detail of workflowStates.
        </meta>
        <id name="id" column="id" type="int">
            <generator class="native"/>
        </id>
        <property name="name" column="name" type="string"/>
        <set name="workflowNavigations" cascade="all">
            <key column="workflow_state_id"/>
            <one-to-many class="Models.WorkflowNavigation"/>
        </set>
    </class>
    <!-- /workflowStates -->

    <!-- workflowNavigation -->
    <class name="Models.WorkflowNavigation" table="workflow_navigation">
        <meta attribute="class-description">
            This class contains the detail of workflowNavigation.
        </meta>
        <id name="id" column="id" type="int">
            <generator class="native"/>
        </id>
        <many-to-one name="nextWorkflowState" column="next_workflow_State_id" class="Models.WorkflowState"/>
    </class>
    <!-- /workflowNavigation -->

    <!-- planStateHistory -->
    <class name="Models.PlanStateHistory" table="plan_state_history">
        <meta attribute="class-description">
            This class contains the detail of planStateHistory.
        </meta>
        <id name="id" column="id" type="int">
            <generator class="native"/>
        </id>
        <property name="createdTimeStamp" column="created_timestamp" type="int"/>
        <many-to-one name="workflowState" column="workflow_state_id" class="Models.WorkflowState"/>
        <many-to-one name="user" column="user_id" class="Models.User"/>
        <set name="changes" cascade="all">
            <key column="plan_state_history_id"/>
            <one-to-many class="Models.Change"/>
        </set>
    </class>
    <!-- /planStateHistory -->

    <!-- changes -->
    <class name="Models.Change" table="change">
        <meta attribute="class-description">
            This class contains the detail of changes.
        </meta>
        <id name="id" column="id" type="int">
            <generator class="native"/>
        </id>
        <property name="fieldName" column="field_name" type="string"/>
        <property name="fieldValue" column="field_value" type="string"/>
    </class>
    <!-- /changes -->

</hibernate-mapping>